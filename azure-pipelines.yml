resources:
  repositories:
    - repository: 'SsdSim'  # identifier (A-Z, a-z, 0-9, and underscore)
      type: github
      name: 'DustParticle/SsdSim'
      ref: 'refs/heads/master'  # ref name to use, defaults to 'refs/heads/master'
      endpoint: 'Github connection 1'  # name of the service connection to use (for non-Azure Repos types)

queue:
  name: Hosted VS2017
  demands: msbuild

steps:
- powershell: |
    git clone https://github.com/DustParticle/SsdSim.git
- task: NuGetCommand@2
  inputs:
    command: 'restore'
- task: VSBuild@1
  displayName: 'Build solution **/*.sln'
  inputs:
    configuration: release
    platform: x64
- powershell: |
    ./x64/Release/Test.exe
